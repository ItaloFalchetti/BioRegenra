<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Landing Page Básica</title>
  <link rel="stylesheet" href="styles.css">
  <script src="index.js" defer></script>
</head>
<body>
  <header>
    <nav>
      <ul>
        <li><a href="#inicio">Inicio de la empresa</a></li>
        <li><a href="#acerca">Acerca de</a></li>
        <li><a href="#servicios">Servicios</a></li>
        <li><a href="#testimonios">Testimonios</a></li>
        <li><a href="#contacto">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <section id="inicio" class="seccion">
    <h1>Bienvenido a Nuestra Página</h1>
    <p>Somos expertos en ayudarte a alcanzar tus objetivos.</p>
  </section>

  <section id="acerca" class="seccion">
    <h2>Acerca de Nosotros</h2>
    <p>Somos una empresa comprometida con la calidad y la excelencia.</p>
  </section>

  <section id="servicios" class="seccion">
    <h2>Nuestros Servicios</h2>
    <ul>
      <li>Consultoría profesional</li>
      <li>Desarrollo de proyectos</li>
      <li>Soporte técnico</li>
    </ul>
  </section>

  <section id="testimonios" class="seccion">
    <h2>Testimonios</h2>
    <blockquote>"¡Esta empresa cambió mi vida! 100% recomendados."</blockquote>
    <cite>- Cliente satisfecho</cite>
  </section>

 
  <section id="contacto" class="seccion">
    <h2>Contacto</h2>
    <form id="form-contacto" action="#" method="post" onsubmit="guardarInformacion(event)">
      <label for="rut">RUT:</label>
      <input type="text" id="rut" name="rut" placeholder="Ej: 12345678-9" required>

      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required>

      <label for="apellidos">Apellidos:</label>
      <input type="text" id="apellidos" name="apellidos" placeholder="Tus apellidos" required>

      <label for="correo">Correo electrónico:</label>
      <input type="email" id="correo" name="correo" placeholder="ejemplo@correo.com" required>

      <button type="submit">Guardar Información</button>
    </form>
    <p id="mensaje" style="margin-top: 15px; font-weight: bold;"></p>
  </section>

  <form action="https://formspree.io/f/xrbgjkdl" method="POST">
    <label for="nombre">Nombre completo:</label>
    <input type="text" name="nombre" id="nombre" required><br>
    
    <label for="empresa">Empresa:</label>
    <input type="text" name="empresa" id="empresa" required><br>

    <label for="fono">Teléfono:</label>
    <input type="text" name="fono" id="fono" ><br>

    <label for="email">Correo electrónico:</label>
    <input type="email" name="email" id="email" required><br>
  
    <label for="message">Mensaje:</label>
    <textarea name="message" id="message" required></textarea><br>
  
    <button type="submit">Contactar</button>
  </form>

  <footer>
    <p>&copy; 2024 Mi Empresa. Todos los derechos reservados.</p>
  </footer>
</body>

<script>
  function guardarInformacion(event) {
    event.preventDefault(); // Evita que el formulario recargue la página

    // Obtener los valores del formulario
    const rut = document.getElementById("rut").value;
    const nombre = document.getElementById("nombre").value;
    const apellidos = document.getElementById("apellidos").value;
    const correo = document.getElementById("correo").value;

    // Validación adicional (opcional)
    if (!rut || !nombre || !apellidos || !correo) {
      mostrarMensaje("Por favor, completa todos los campos.", "error");
      return;
    }

    // Simular envío (puedes reemplazar esto con una petición real a un backend)
    console.log("Información guardada:", { rut, nombre, apellidos, correo });

    // Mostrar un mensaje de éxito
    mostrarMensaje("Información guardada exitosamente.", "success");

    // Limpia el formulario
    document.getElementById("form-contacto").reset();
  };
        
  // Función para mostrar mensajes al usuario
  function mostrarMensaje(mensaje, tipo) {
    var mensajeElemento = document.getElementById("mensaje");
    mensajeElemento.textContent = mensaje;
    mensajeElemento.style.color = tipo === "success" ? "green" : "red";
  };

  const nodemailer = require('nodemailer');

  module.exports = async (req, res) => {
  if (req.method === 'POST') {
    const { email, subject, message } = req.body;

    const transporter = nodemailer.createTransport({
      service: 'gmail',
      auth: {
        user: 'developertrach@gmail.com',
        pass: 'Skalaria2712',
      },
    });

    try {
      await transporter.sendMail({
        from: 'developertrach@gmail.com',
        to: email,
        subject: subject,
        text: message,
      });

      res.status(200).send('Correo enviado correctamente.');
    } catch (error) {
      console.error(error);
      res.status(500).send('Error al enviar el correo.');
    }
  } else {
    res.status(405).send('Método no permitido');
  }
};

</script>
</html>
